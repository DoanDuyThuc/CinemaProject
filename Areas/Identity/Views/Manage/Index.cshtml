@model IndexViewModel
@{
    ViewData["Title"] = "Quản lý tài khoản của bạn";
    Layout = "_InfoManagerLayout";
}

@* <p class="text-success">@ViewData["StatusMessage"]</p> *@


<div>
    <div class="InfoManagerRight-infoContent">
        <div class="InfoManagerRight-infoContent_btn-fix row">
            <h4 class="col-sm-10">Thông tin tài khoản</h4>
            
             <a class="col-sm-2" asp-action="EditProfile" >Chỉnh sửa</a>
        </div>

        <div class="InfoManagerRight-infoContent_item row">
            <dt class = "col-sm-5">
                @Html.DisplayNameFor(m => Model.profile.UserName)
            </dt>   
            <dd class = "col-sm-7">
                @Html.DisplayFor(m => Model.profile.UserName)
            </dd>
        </div>

        <div class="InfoManagerRight-infoContent_item row">
            <dt class = "col-sm-5">
                @Html.DisplayNameFor(m => Model.profile.UserEmail)
            </dt>   
            <dd class = "col-sm-7">
                @Html.DisplayFor(m => Model.profile.UserEmail)
            </dd>
        </div>

        <div class="InfoManagerRight-infoContent_item row">
            <dt class = "col-sm-5">
                @Html.DisplayNameFor(m => Model.profile.PhoneNumber)
            </dt>   
                @if(Model.PhoneNumber != null){
                <dd class = "col-sm-5">
                    <a asp-controller="Manage" asp-action="AddPhoneNumber">
                        @Html.DisplayFor(m => Model.PhoneNumber)
                    </a>
                </dd>
                
                <dd class = "col-sm-2">
                    <form asp-controller="Manage" asp-action="RemovePhoneNumber" method="post" role="form">
                        <button type="submit" class="btn btn-danger btn-sm">Xóa số</button>
                    </form>
                </dd>
                }else{
                    <dd class="col-sm-5">
                        <a asp-controller="Manage" asp-action="AddPhoneNumber">
                            thêm số điện thoại
                        </a>
                    </dd>
                }
        </div>

        <div class="InfoManagerRight-infoContent_item row">
            <dt class = "col-sm-5">
                @Html.DisplayNameFor(m => Model.profile.HomeAdress)
            </dt>   
            <dd class = "col-sm-7">
                @if(Model.profile.HomeAdress == null){
                    <span>(chưa có)</span>
                }
                @Html.DisplayFor(m => Model.profile.HomeAdress)
            </dd>
        </div>    

        <div class="InfoManagerRight-infoContent_item row">
            <dt class = "col-sm-5">
                @Html.DisplayNameFor(m => Model.profile.BirthDate)
            </dt>   
            <dd class = "col-sm-7">
                @if(Model.profile.BirthDate == null){
                    <span>(chưa có)</span>
                }
                @Html.DisplayFor(m => Model.profile.BirthDate)
            </dd>
        </div>         

        <div class="InfoManagerRight-infoContent_item row">
            <dt class = "col-sm-5">
                Mật khẩu
            </dt>   
            <dd class = "col-sm-5">
                <input id="info-password" type="password" value="@Model.HasPassword" disabled="">
            </dd>

            <dd class="col-sm-2">
                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#ModalChangePassword">
                Launch demo modal
                </button>
                @if (Model.HasPassword)
                {
                    <a asp-controller="Manage" asp-action="ChangePassword">Đổi mật khẩu</a>
                }
                else
                {
                    <a asp-controller="Manage" asp-action="SetPassword">Tạo mật khẩu</a>
                }
            </dd>
        </div>           
    </div>

    <div class="InfoManagerRight-social" >
        <h4>
            Kết nối mạng xã hội
            <a asp-controller="Manage" asp-action="ManageLogins">Quản lý các kết nối</a>
        </h4>
    </div>

    <div class="InfoManagerRight-security" >
        <h4>
            Bảo mật
        </h4>
        
        <div class="InfoManagerRight-security_item row">
            <dt class = "col-sm-5">
                Xóa tài khoản
            </dt>   
            <dd class = "col-sm-5">
                Xóa hoàn toàn tài khoản khỏi hệ thống
            </dd>
            <dd class = "col-sm-2">
                <a asp-controller="Manage" asp-action="DeleteUser">
                    <button type="submit" class="btn btn-danger btn-sm">Xóa tài khoản</button>
                </a>
            </dd>
        </div>
    </div>
</div>


<!-- Modal -->
<div class="modal fade" id="ModalChangePassword" tabindex="-1" aria-labelledby="ModalChangePasswordLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="ModalChangePasswordLabel">Modal title</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>